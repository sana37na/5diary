{"ast":null,"code":"var _jsxFileName = \"/Users/sanami/Desktop/react/webgl/src/components/Webgl.js\";\nimport React, { useEffect } from \"react\";\nimport { useRef, useState, useMemo, useLayoutEffect } from 'react';\nimport { Canvas, useFrame, useLoader, useThree } from '@react-three/fiber';\nimport * as THREE from 'three';\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { Suspense } from \"react/cjs/react.production.min\";\nimport * as Fiber from '@react-three/fiber';\nimport * as Drei from '@react-three/drei';\nimport { OrbitControls, PerspectiveCamera, PositionalAudio } from '@react-three/drei'; // const myCamera = useResource()\n// return(\n//     <>\n//     <PerspectiveCamera ref={myCamera} makeDefault position={[0, 5, 5]} />\n//     <OrbitControls camera={myCamera.current} />\n//     </>\n// )\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Webgl = () => {\n  var _s = $RefreshSig$(),\n      _s2 = $RefreshSig$();\n\n  function Box(props) {\n    _s();\n\n    const mesh = useRef();\n    const [hovered, setHover] = useState(false);\n    const [active, setActive] = useState(false);\n    useFrame((state, delta) => mesh.current.rotation.x += 0.01);\n    return /*#__PURE__*/_jsxDEV(\"mesh\", { ...props,\n      ref: mesh,\n      castShadow: true,\n      receiveShadow: true,\n      scale: active ? 0.8 : 0.5,\n      onClick: event => setActive(!active),\n      onPointerOver: event => setHover(true),\n      onPointerOut: event => setHover(false) // onWheel={(event) => setActive(true)}\n      ,\n      children: [/*#__PURE__*/_jsxDEV(\"boxBufferGeometry\", {\n        args: [2, 2, 2]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n        color: hovered ? 'hotpink' : 'yellow'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this);\n  }\n\n  _s(Box, \"Gf95ovYMxCkb+HRFcD1+zMTFs6g=\", false, function () {\n    return [useFrame];\n  });\n\n  const LoadModel = () => {\n    _s2();\n\n    const gltf = useLoader(GLTFLoader, \"/book.glb\");\n    return /*#__PURE__*/_jsxDEV(\"primitive\", {\n      object: gltf.scene,\n      dispose: null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  };\n\n  _s2(LoadModel, \"/mQP3JhHVfBVax7R1fyeo+Vn9YY=\", false, function () {\n    return [useLoader];\n  });\n\n  const UseModel = () => {\n    return /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 33\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(LoadModel, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this);\n  }; // performance: {\n  //     current: 1,\n  //     min: 0.1,\n  //     max: 1,\n  //     debounce: 200,\n  //     regress: () => void,\n  // }\n  // const regress = useThree((state) => state.performance.regress)\n  // useEffect(() => {\n  //     // controls.current?.addEventListener('change', regress)\n  // })\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"canvas-area\",\n    children: /*#__PURE__*/_jsxDEV(Canvas, {\n      shadows: true,\n      performance: {\n        min: 0.5\n      },\n      dpr: [1, 2],\n      camera: {\n        fov: 45,\n        position: [0, 0, 0]\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"ambientLight\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"pointLight\", {\n        position: [10, 10, 10]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n        position: [0, 0, 5],\n        color: \"red\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        position: [0, 0, 0]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(UseModel, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(OrbitControls, {\n        enablePan: true,\n        enableZoom: true,\n        enableRotate: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n};\n\n_c = Webgl;\nexport default Webgl;\n\nvar _c;\n\n$RefreshReg$(_c, \"Webgl\");","map":{"version":3,"sources":["/Users/sanami/Desktop/react/webgl/src/components/Webgl.js"],"names":["React","useEffect","useRef","useState","useMemo","useLayoutEffect","Canvas","useFrame","useLoader","useThree","THREE","GLTFLoader","Suspense","Fiber","Drei","OrbitControls","PerspectiveCamera","PositionalAudio","Webgl","Box","props","mesh","hovered","setHover","active","setActive","state","delta","current","rotation","x","event","LoadModel","gltf","scene","UseModel","min","fov","position"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useRef, useState, useMemo, useLayoutEffect } from 'react';\nimport { Canvas, useFrame, useLoader, useThree } from '@react-three/fiber'\nimport * as THREE from 'three'\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { Suspense } from \"react/cjs/react.production.min\";\nimport * as Fiber from '@react-three/fiber';\nimport * as Drei from '@react-three/drei';\nimport { OrbitControls, PerspectiveCamera, PositionalAudio } from '@react-three/drei'\n\n// const myCamera = useResource()\n// return(\n//     <>\n//     <PerspectiveCamera ref={myCamera} makeDefault position={[0, 5, 5]} />\n//     <OrbitControls camera={myCamera.current} />\n\n//     </>\n// )\nconst Webgl = () => {\n    function Box(props) {\n        const mesh = useRef()\n        const [hovered, setHover] = useState(false)\n        const [active, setActive] = useState(false)\n\n        useFrame((state, delta) => (mesh.current.rotation.x += 0.01))\n\n        return (\n            <mesh\n                {...props}\n                ref={mesh}\n                castShadow\n                receiveShadow\n                scale={active ? 0.8 : 0.5}\n                onClick={(event) => setActive(!active)}\n                onPointerOver={(event) => setHover(true)}\n                onPointerOut={(event) => setHover(false)}\n            // onWheel={(event) => setActive(true)}\n            >\n                <boxBufferGeometry args={[2, 2, 2]} />\n                <meshStandardMaterial color={hovered ? 'hotpink' : 'yellow'} />\n            </mesh>\n        )\n    }\n\n    const LoadModel = () => {\n\n        const gltf = useLoader(GLTFLoader, \"/book.glb\")\n        return (\n            <primitive object={gltf.scene} dispose={null} />\n        )\n    }\n\n    const UseModel = () => {\n        return (\n            <Suspense fallback={<span>loading...</span>}>\n                <LoadModel />\n            </Suspense>\n        )\n    }\n\n    // performance: {\n    //     current: 1,\n    //     min: 0.1,\n    //     max: 1,\n    //     debounce: 200,\n    //     regress: () => void,\n    // }\n\n    // const regress = useThree((state) => state.performance.regress)\n    // useEffect(() => {\n    //     // controls.current?.addEventListener('change', regress)\n    // })\n\n\n    return (\n        <div className=\"canvas-area\">\n            <Canvas\n                shadows\n                performance={{ min: 0.5 }}\n                dpr={[1, 2]}\n                camera={{ fov: 45, position: [0, 0, 0]}}\n            >\n\n                    <ambientLight />\n                    <pointLight position={[10, 10, 10]} />\n                    <directionalLight position={[0, 0, 5]} color=\"red\" />\n                    <Box position={[0, 0, 0]} />\n                    <UseModel />\n                    <OrbitControls enablePan={true} enableZoom={true} enableRotate={true} />\n\n            </Canvas>\n        </div>\n    );\n}\nexport default Webgl;"]},"metadata":{},"sourceType":"module"}